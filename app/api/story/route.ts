import { NextRequest, NextResponse } from 'next/server'
import { pinyin } from 'pinyin-pro'

export async function GET(req: NextRequest) {
  const chineseArray = [
    '很久以前',
    '，',
    '天地',
    '还是',
    '一片',
    '混沌',
    '。',
    '盘古',
    '住',
    '在',
    '里面',
    '，',
    '他',
    '睡了',
    '18000年',
    '。',
    '一天',
    '，',
    '他',
    '醒来',
    '，',
    '用力',
    '推开',
    '天和地',
    '。',
    '他的',
    '头顶',
    '天',
    '，',
    '脚踏',
    '地',
    '，',
    '每天',
    '天升',
    '一丈',
    '，',
    '地降',
    '一丈',
    '。',
    '经过',
    '18000年',
    '，',
    '天高地厚',
    '，',
    '万物生长',
    '。',
    '盘古',
    '也变成了',
    '山川河流',
    '，',
    '给我们留下了',
    '美丽的世界',
    '。',
    '孩子们',
    '，',
    '你们知道吗',
    '？',
    '这就是',
    '中国古代的创世故事',
    '。',
  ]

  const translator = [
    'long ago',
    ',',
    'heaven and earth',
    'still',
    'a',
    'chaos',
    '.',
    'Pangu',
    'lived',
    'in',
    'inside',
    ',',
    'he',
    'slept',
    '18,000 years',
    '.',
    'one day',
    ',',
    'he',
    'woke up',
    ',',
    'pushed',
    'pushed away',
    'heaven and earth',
    '.',
    'his',
    'head',
    'sky',
    ',',
    'feet',
    'earth',
    ',',
    'Every day',
    'sky rises',
    'one fathom',
    ',',
    'earth descends',
    'one fathom',
    '.',
    'After',
    '18,000 years',
    ',',
    'the heavens are high',
    ',',
    'Everything grows',
    '.',
    'Pangu',
    'also became',
    'mountains and rivers',
    ',',
    'leaving us with a ',
    'beautiful world',
    '.',
    'Children',
    ',',
    'Did you know that',
    '?',
    'This is the ',
    'ancient Chinese creation story,',
    '.',
  ]

  const result = chineseArray.map((item, index) => ({
    zh: item.split(''),
    pinyin: pinyin(item, { type: 'array' }),
    en: translator[index],
  }))
  return NextResponse.json(result)
}

// FIXED DynamicServerError
export async function POST(req: NextRequest) {
  return new NextResponse('', {})
}
